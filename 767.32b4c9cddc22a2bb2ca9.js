(self.webpackChunkmdm_web=self.webpackChunkmdm_web||[]).push([[767],{4767:(e,t,i)=>{"use strict";i.r(t),i.d(t,{MdmMainModule:()=>te,createTranslateLoader:()=>ee});var o=i(1116),s=i(2693),a=i(233),r=i(9037),l=i(1041),n=i(3836),d=i(2307),c=i(1454),g=i(493),h=i(2320),u=i(4761),p=i(7368),v=i(7586),m=i(9344),I=i(9142);const x=function(e){return{"background-color":e}};let A=(()=>{class e{constructor(e,t,i,o,s){this.shareableService=e,this.router=t,this.translate=i,this.localStorageAPI=o,this.languageservice=s,this.moduleselected="home",this.IsAccessBlocked=!1,this.languageservice.retriveLanguage().subscribe(e=>{this.applanguage=e})}ngOnInit(){this.mediumName=this.localStorageAPI.retrieve(u.g.MEDIUMNAME)||"";let e=this.localStorageAPI.retrieve(u.g.moduleSelected)||"home";e&&""!=e&&(this.moduleselected=e),this.router.events.subscribe(e=>{if(e instanceof h.OD)switch(console.log(e.url),console.log("-----TabsPageTabsPageTabsPageTabsPageTabsPageTabsPageTabsPageTabsPageTabsPageTabsPage----------- "+e.url),e.url){case"/home/tabs/profile":this.moduleselected="profile";break;case"/home/tabs/explore":this.moduleselected="explore";break;case"/home/tabs/case-study":this.moduleselected="casestudy";break;case"/home/tabs/search":this.moduleselected="search";break;case"/home/tabs/home":case"/home":this.moduleselected="home"}}),this.shareableService.licenceRenewal.subscribe(e=>{console.log("----licenceRenewal-----"),console.log(e),"ACTIVE"==e&&(this.IsAccessBlocked=!1),"BLOCK"==e&&(this.IsAccessBlocked=!0)})}ngAfterViewInit(){this.mediumName=this.localStorageAPI.retrieve(u.g.MEDIUMNAME)||""}checkFreeAccessEnded(){let e=!1;if("1"==this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODECODE)||"2"==this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODECODE)){let t=new Date(this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEVALIDFROM)||""),i=new Date(this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEVALIDTO)||"");console.log(t),console.log(i);let o=new Date;e=!(o.getTime()>=t.getTime()&&o.getTime()<=i.getTime())}else if("0"==this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODECODE))e=!1;else{new Date(this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEVALIDFROM)||"");let t=new Date(this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEVALIDTO)||"");e=(new Date).getTime()>t.getTime()}}moduleClick(e){if("logout"==e)return this.localStorageAPI.removeStorage(),void this.router.navigate(["/login"]);this.moduleselected=e,this.localStorageAPI.store(u.g.moduleSelected,e),"profile"==e&&this.shareableService.profileDrawer.next("OPEN"),"explore"==e&&this.router.navigate(["/mdm-home/explore"]),"home"==e&&this.router.navigate(["/mdm-home/home"]),"casestudy"==e&&this.router.navigate(["/mdm-home/case-study"])}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(m.R),p.Y36(h.F0),p.Y36(a.sK),p.Y36(v.V),p.Y36(I.T))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-side-menu"]],decls:44,vars:34,consts:[[1,"b"],["layout","column","layout-align","start center",1,"h",2,"height","200px"],["src","assets/images/smartcitylogo.jpg",2,"height","75%","padding-top","30px"],[1,"h",2,"height","calc(100% - 200px)"],["layout","column","layout-align","start center",1,"h",2,"height","65px",3,"click"],["layout","row","layout-align","start center",1,"h","pt",2,"height","50px","padding-left","10px",3,"ngStyle"],["layout","row","layout-align","center center",1,"v",2,"width","60px"],[2,"height","60%",3,"src"],["layout","row","layout-align","start center",1,"v",2,"width","calc(100% - 60px)"],[1,"px16","lw"],["layout","column","layout-align","start center",1,"h","pt",2,"height","65px",3,"click"],["layout","row","layout-align","start center",1,"h",2,"height","50px","padding-left","10px",3,"ngStyle"],["src","assets/images/logout.svg",2,"height","60%"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p._UZ(2,"img",2),p.qZA(),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.NdJ("click",function(){return t.moduleClick("home")}),p.TgZ(5,"div",5),p.TgZ(6,"div",6),p._UZ(7,"img",7),p.qZA(),p.TgZ(8,"div",8),p.TgZ(9,"h5",9),p._uU(10),p.ALo(11,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(12,"div",10),p.NdJ("click",function(){return t.moduleClick("explore")}),p.TgZ(13,"div",11),p.TgZ(14,"div",6),p._UZ(15,"img",7),p.qZA(),p.TgZ(16,"div",8),p.TgZ(17,"h5",9),p._uU(18),p.ALo(19,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(20,"div",10),p.NdJ("click",function(){return t.moduleClick("casestudy")}),p.TgZ(21,"div",11),p.TgZ(22,"div",6),p._UZ(23,"img",7),p.qZA(),p.TgZ(24,"div",8),p.TgZ(25,"h5",9),p._uU(26),p.ALo(27,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(28,"div",10),p.NdJ("click",function(){return t.moduleClick("profile")}),p.TgZ(29,"div",11),p.TgZ(30,"div",6),p._UZ(31,"img",7),p.qZA(),p.TgZ(32,"div",8),p.TgZ(33,"h5",9),p._uU(34),p.ALo(35,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(36,"div",10),p.NdJ("click",function(){return t.moduleClick("logout")}),p.TgZ(37,"div",11),p.TgZ(38,"div",6),p._UZ(39,"img",12),p.qZA(),p.TgZ(40,"div",8),p.TgZ(41,"h5",9),p._uU(42),p.ALo(43,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(5),p.Q6J("ngStyle",p.VKq(24,x,"home"!=t.moduleselected||t.IsAccessBlocked?t.IsAccessBlocked?"gray":"white":"#edf2f6")),p.xp6(2),p.s9C("src","home"==t.moduleselected?"assets/images/home.svg":"assets/images/home_not_selected.svg",p.LSH),p.xp6(3),p.Oqu(p.lcZ(11,14,"home.revision")),p.xp6(3),p.Q6J("ngStyle",p.VKq(26,x,"explore"==t.moduleselected?"#edf2f6":"white")),p.xp6(2),p.s9C("src","explore"==t.moduleselected?"assets/images/explore_selected.svg":"assets/images/explore.svg",p.LSH),p.xp6(3),p.Oqu(p.lcZ(19,16,"home.upgrade")),p.xp6(3),p.Q6J("ngStyle",p.VKq(28,x,"casestudy"==t.moduleselected?"#edf2f6":"white")),p.xp6(2),p.s9C("src","casestudy"==t.moduleselected?"assets/images/explore_selected.svg":"assets/images/explore.svg",p.LSH),p.xp6(3),p.Oqu(p.lcZ(27,18,"home.casestudy")),p.xp6(3),p.Q6J("ngStyle",p.VKq(30,x,"profile"==t.moduleselected?"#edf2f6":"white")),p.xp6(2),p.s9C("src","profile"==t.moduleselected?"assets/images/profile_selected.svg":"assets/images/profile.svg",p.LSH),p.xp6(3),p.Oqu(p.lcZ(35,20,"home.profile")),p.xp6(3),p.Q6J("ngStyle",p.VKq(32,x,"logout"==t.moduleselected?"#edf2f6":"white")),p.xp6(5),p.Oqu(p.lcZ(43,22,"profile.logout")))},directives:[o.PC],pipes:[a.X$],styles:[""]}),e})();const T=function(e,t){return{openDrawer:e,closeDrawer:t}};let f=(()=>{class e{constructor(e,t,i,o,s){this.translate=e,this.router=t,this.localStorageAPI=i,this.shareableService=o,this.languageservice=s,this.openDrawerFlag=!1,e.addLangs(["en","mr"]);let a=null==localStorage.getItem("applang")||null==localStorage.getItem("applang")||"null"==localStorage.getItem("applang")?"mr":localStorage.getItem("applang");e.setDefaultLang(a||"mr")}ngOnInit(){this.shareableService.profileDrawer.subscribe(e=>{console.log("----profileDrawer-----"),console.log(e),"OPEN"==e&&(this.openDrawer(),this.name=this.localStorageAPI.retrieve(u.g.FIRST_NAME),this.profilePic=this.localStorageAPI.retrieve(u.g.PHOTO),this.ClassGrade=this.localStorageAPI.retrieve(u.g.GRADEID)),"CLOSE"==e&&this.closeFunc()})}viewPdf(){this.closeFunc(),this.router.navigate(["/mdm-home/pdf-viewer"],{queryParams:{url:"assets/videos/medical.pdf"}})}openDrawer(){this.openDrawerFlag=!0}closeFunc(){this.openDrawerFlag=!1}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(a.sK),p.Y36(h.F0),p.Y36(v.V),p.Y36(m.R),p.Y36(I.T))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-mdm-main"]],decls:25,vars:10,consts:[[1,"b"],[1,"v",2,"width","230px","box-shadow","0 0 15px 5px rgb(232 234 236 / 80%)"],[1,"v",2,"width","calc(100% - 230px)"],[1,"vh",3,"ngClass"],["src","assets/images/swadhyaybg.svg",2,"width","100%","height","200px","position","absolute","opacity","0.4"],["layout","column","layout-align","center center",1,"h",2,"height","200px","padding","0px 20px"],["layout","row","layout-align","start center",1,"h",3,"click"],[2,"width","25%","border-radius","50%","background","#fcd9d7",3,"src"],["layout","row","layout-align","start center",1,"h"],[1,"px30","hw","clr4","tm",2,"font-family","PoppinsSemiBold"],[1,"px16","lw","clr4",2,"margin-top","1vh"],[1,"h",2,"height","calc(100% - 200px)","padding","0px 20px","margin-bottom","20px","overflow-y","auto",3,"click"],["layout","column","layout-align","start center",1,"h","pt",2,"height","65px"],["layout","row","layout-align","start center",1,"h",2,"height","50px","padding-left","10px"],["layout","row","layout-align","center center",1,"v",2,"width","60px"],["src","assets/images/prof_student.svg",2,"height","60%"],["layout","row","layout-align","start center",1,"v",2,"width","calc(100% - 60px)"],[1,"px16","lw"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p._UZ(2,"app-side-menu",0),p.qZA(),p.TgZ(3,"div",2),p._UZ(4,"router-outlet"),p.TgZ(5,"div",3),p._UZ(6,"img",4),p.TgZ(7,"div",5),p.TgZ(8,"div",6),p.NdJ("click",function(){return t.closeFunc()}),p._UZ(9,"img",7),p.qZA(),p.TgZ(10,"div",8),p.TgZ(11,"h5",9),p._uU(12),p.qZA(),p.qZA(),p.TgZ(13,"div",8),p.TgZ(14,"h5",10),p._uU(15),p.ALo(16,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(17,"div",11),p.NdJ("click",function(){return t.viewPdf()}),p.TgZ(18,"div",12),p.TgZ(19,"div",13),p.TgZ(20,"div",14),p._UZ(21,"img",15),p.qZA(),p.TgZ(22,"div",16),p.TgZ(23,"h5",17),p._uU(24,"Remedial Learning"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(5),p.Q6J("ngClass",p.WLB(7,T,1==t.openDrawerFlag,0==t.openDrawerFlag)),p.xp6(4),p.s9C("src",t.profilePic,p.LSH),p.xp6(3),p.Oqu(t.name),p.xp6(3),p.AsE("",p.lcZ(16,5,"home.class"),": ",t.ClassGrade,""))},directives:[A,h.lC,o.mk],pipes:[a.X$],styles:[".openDrawer[_ngcontent-%COMP%]{width:350px;background:#fff;box-shadow:0 0 15px 5px #e8eaeccc}.closeDrawer[_ngcontent-%COMP%], .openDrawer[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.closeDrawer[_ngcontent-%COMP%]{width:0;background:#0000}"]}),e})();var b=i(6304);function Z(e){let t=e%10,i=e%100;return 1==t&&11!=i?e+" st":2==t&&12!=i?e+" nd":3==t&&13!=i?e+" rd":e+" th"}function y(e){let t=e%10,i=e%100;return 1==t&&11!=i?e+" \u0932\u0940":2==t&&12!=i||3==t&&13!=i?e+" \u0930\u0940":4==t&&14!=i?e+" \u0925\u0940":e+" \u0935\u0940"}var S=i(8663);const w=function(e){return{"background-color":e}};function P(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",18),p.NdJ("click",function(){const t=p.CHM(e).$implicit;return p.oxw().onSubjectClick(t)}),p.TgZ(1,"div",19),p.TgZ(2,"div",20),p.TgZ(3,"p",21),p._uU(4),p.qZA(),p.qZA(),p.TgZ(5,"div",22),p.TgZ(6,"h5",23),p._uU(7),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit;p.Q6J("ngStyle",p.VKq(3,w,e.colorCode)),p.xp6(4),p.Oqu(e.altername),p.xp6(3),p.Oqu(e.name)}}function C(e,t){if(1&e&&(p.TgZ(0,"div",27),p.TgZ(1,"div",28),p.TgZ(2,"div",29),p._UZ(3,"img",30),p.qZA(),p.TgZ(4,"div",31),p.TgZ(5,"h5",32),p._uU(6),p.qZA(),p.TgZ(7,"h5",33),p._uU(8),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=t.$implicit;p.xp6(3),p.s9C("src",e.videoId.thumbnail,p.LSH),p.xp6(3),p.Oqu(e.subjectId.name),p.xp6(2),p.Oqu(e.videoId.title)}}function D(e,t){if(1&e&&(p.TgZ(0,"div",24),p.TgZ(1,"div",12),p.TgZ(2,"h5",13),p._uU(3),p.ALo(4,"translate"),p.qZA(),p.qZA(),p.TgZ(5,"div",25),p.YNc(6,C,9,3,"div",26),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(3),p.Oqu(p.lcZ(4,2,"common.continue_reading")),p.xp6(3),p.Q6J("ngForOf",e.watchedHistory)}}let q=(()=>{class e{constructor(e,t,i,o,s,a,r){this.shareableService=e,this.translate=t,this.languageservice=i,this.services=o,this.router=s,this.localStorageAPI=a,this.activeRoute=r,this.bannerImages=[],this.watchedHistory=[],this.subjects=[],this.onlineLectureRequired=!1,this.notificationCount=0,this.gradesData=[],this.timerStart=!1,this.openDrawerFlag=!1,this.swadhyayArr=[{type:"takeatest",name:"Take a test",bg:"",description:"PDF for self-learning and assessment",color:"#3cd83c"},{type:"swadhyay",name:"Swadhyay (PDF)",bg:"assets/images/bg.svg",description:"PDF for self-learning and assessment",color:"#5d5dce"},{type:"audio",name:"Audio Lesson",bg:"assets/images/bgTwo.svg",description:"Listen to audio lesson on the go",color:"#f17070"}],this.service=o,this.ngxRouter=s}ngOnInit(){this.activeRoute.params.subscribe(e=>{console.log("-------activeRoute--------------"),this.gradeNumber=Number(this.localStorageAPI.retrieve(u.g.GRADEORDER)),this.userType=this.localStorageAPI.retrieve(u.g.USERTYPE)||"STUDENT",this.contentType=this.localStorageAPI.retrieve(u.g.DATACONTENTTYPE)||"REVISION",this.oldContentType=this.localStorageAPI.retrieve(u.g.DATACONTENTTYPE)||"REVISION";let t=this.localStorageAPI.retrieve(u.g.SCHOOLVERIFIED);this.onlineLectureRequired="undefined"!=t&&"null"!=t&&"false"!=t,this.loadProfileData()})}loadProfileData(){this.gradeId=this.localStorageAPI.retrieve(u.g.GRADEID),this.oldgradeId=this.localStorageAPI.retrieve(u.g.GRADEID),this.name=this.localStorageAPI.retrieve(u.g.FIRST_NAME),this.profilePic=this.localStorageAPI.retrieve(u.g.PHOTO),this.ClassGrade=this.localStorageAPI.retrieve(u.g.GRADEID),this.languageservice.retriveLanguage().subscribe(e=>{this.ClassGrade="mr"==e?y(Number(this.localStorageAPI.retrieve(u.g.GRADEORDER))):Z(Number(this.localStorageAPI.retrieve(u.g.GRADEORDER)))}),this.getSubjectList()}showNotificationCount(){let e=this.localStorageAPI.retrieve(u.g.NOTIFICATIONCOUNT);e||(e="0"),this.notificationCount=Number(e)}getProfileDetails(){this.service.myProfile().subscribe(e=>{if(200==e.responseCode){if(console.log("----------getProfileDetails----------------------",e),this.localStorageAPI.store(u.g.GRADE,e.result.gradeId.gradeName),this.localStorageAPI.store(u.g.GRADEORDER,e.result.gradeId.order),this.localStorageAPI.store(u.g.MEDIUMID,e.result.mediumId._id),this.localStorageAPI.store(u.g.GRADEID,e.result.gradeId._id),this.localStorageAPI.store(u.g.PHOTO,e.result.profilePic),this.localStorageAPI.store(u.g.EMAIL,e.result.email),this.localStorageAPI.store(u.g.CITY,e.result.city),this.localStorageAPI.store(u.g.PINCODE,e.result.pincode),e.result.userCouponData&&e.result.userCouponData.length>0&&(this.localStorageAPI.store(u.g.SUBSCRIPTIONCODEVALIDFROM,e.result.userCouponData.SubscriptionCodeValidFrom),this.localStorageAPI.store(u.g.SUBSCRIPTIONCODEVALIDTO,e.result.userCouponData.SubscriptionCodeValidTo)),this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEISUSED)){let t=new Date(e.result.currentDate);this.checkSubScriptionApply(t)}if(e.result.gradesData&&(this.gradesData=e.result.gradesData),this.gradeId=e.result.gradeId._id,this.oldgradeId=e.result.gradeId._id,this.bannerImages=[],e.result.sponsorId){let t=new Date(e.result.sponsorId.startDate),i=new Date(e.result.sponsorId.endDate),o=new Date(e.result.currentDate);o.getTime()>=t.getTime()&&i.getTime()>=o.getTime()?(!e.result.sponsorId||"FIXED"!=e.result.sponsorId.displayTarget||"DashboardBanner"!=e.result.sponsorId.displayType&&"Both"!=e.result.sponsorId.displayType||Array.isArray(e.result.sponsorId.multipleBannerFileUrl)&&e.result.sponsorId.multipleBannerFileUrl&&e.result.sponsorId.multipleBannerFileUrl.length>0&&e.result.sponsorId.multipleBannerFileUrl.forEach(e=>{this.bannerImages.push({path:e})}),!e.result.sponsorId.flashScreenUrl&&!e.result.sponsorId.videoFileUrl||"FlashScreen"!=e.result.sponsorId.displayType&&"Both"!=e.result.sponsorId.displayType?(this.localStorageAPI.clearStorage(u.g.SplashImage),this.localStorageAPI.clearStorage(u.g.SplashVideo)):e.result.sponsorId.flashScreenUrl?(this.localStorageAPI.clearStorage(u.g.SplashVideo),this.localStorageAPI.store(u.g.SplashImage,e.result.sponsorId.flashScreenUrl)):e.result.sponsorId.videoFileUrl&&(this.localStorageAPI.clearStorage(u.g.SplashImage),this.localStorageAPI.store(u.g.SplashVideo,e.result.sponsorId.videoFileUrl))):(this.localStorageAPI.clearStorage(u.g.SplashImage),this.localStorageAPI.clearStorage(u.g.SplashVideo))}this.getBannerData(),this.name=e.result.firstName,this.profilePic=e.result.profilePic,this.ClassGrade=e.result.gradeId.gradeName,this.languageservice.retriveLanguage().subscribe(e=>{this.ClassGrade="mr"==e?y(Number(this.localStorageAPI.retrieve(u.g.GRADEORDER))):Z(Number(this.localStorageAPI.retrieve(u.g.GRADEORDER)))})}},e=>{console.log(e)})}getWatchedHistory(){this.watchedHistory=[],this.services.getLast2WatchedHistory(localStorage.getItem(u.g.DATACONTENTTYPE)).subscribe(e=>{console.log("=======response========getLast2WatchedHistory==========>",e),(e.status="ACTIVE")&&(e.result.forEach(e=>{e.percentage=Math.floor(e.duration/e.totalDuration*100)}),this.watchedHistory=e.result)})}getBannerData(){console.log("=============getBannerData==========>"),this.services.getBannerData().subscribe(e=>{console.log("=======response========getBannerData==========>",e),(e.status="ACTIVE")&&e.result&&e.result.length>0&&e.result.forEach(e=>{Array.isArray(e.multipleBannerFileUrl)&&e.multipleBannerFileUrl&&e.multipleBannerFileUrl.length>0&&e.multipleBannerFileUrl.forEach(e=>{this.bannerImages.push({path:e})})})})}checkSubScriptionApply(e){if(console.log(this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEISUSED)),"USED"==this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEISUSED)){localStorage.setItem("timer-running","3"),new Date(this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEVALIDFROM)||"");let t=new Date(this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEVALIDTO)||""),i=new Date;e&&(i=new Date(e)),i.getTime()>t.getTime()?(this.shareableService.licenceRenewal.next("BLOCK"),this.showModal()):"1"==this.localStorageAPI.retrieve(u.g.ADDRESSFORMSKIPCLICK)||null!=this.localStorageAPI.retrieve(u.g.DISTRICT)&&"undefined"!=this.localStorageAPI.retrieve(u.g.DISTRICT)||this.showModal()}else{let e=!1;if("1"==this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODECODE)||"2"==this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODECODE)){let t=new Date(this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEVALIDFROM)||""),i=new Date(this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEVALIDTO)||"");console.log(t),console.log(i);let o=new Date;o.getTime()>=t.getTime()&&o.getTime()<=i.getTime()?(e=!1,this.timerStart=!0):(this.timerStart=!1,this.shareableService.licenceRenewal.next("BLOCK"),e=!0),localStorage.setItem("timer-running","0")}else if("0"==this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODECODE))e=!0,localStorage.setItem("timer-running","0");else{localStorage.setItem("timer-running","3"),new Date(this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEVALIDFROM)||"");let t=new Date(this.localStorageAPI.retrieve(u.g.SUBSCRIPTIONCODEVALIDTO)||"");(new Date).getTime()>t.getTime()?(e=!0,this.shareableService.licenceRenewal.next("BLOCK")):e=!1}e&&this.showModal()}}showModal(){return(0,b.Z)(function*(){})()}getInitials(e){var t=e.split(" "),i=t[0].substring(0,1).toUpperCase();return t.length>1&&(i+=t[t.length-1].substring(0,1).toUpperCase()),i}getSubjectList(){let e=["#FEA1BF","#D3756B","#E3ACF9","#4E6C50","#FFD56F","#FFD495","#FFBABA","#F2DEBA","#D09CFA","#BAD7E9","#FFCAC8","#F9B5D0","#FFDB89"];this.service.getSubjectList().subscribe(t=>{if(console.log("==getSubjectList=========>",t),t&&t.length>0){this.subjects=t;for(let t=0;t<this.subjects.length;t++)this.subjects[t].altername=this.getInitials(this.subjects[t].name),this.subjects[t].colorCode=e[t]}})}onSubjectClick(e){console.log("==onSubjectClick subject=========>",e),this.localStorageAPI.store(u.g.SUBJECT_ID,e.folLink),this.timerStart=!1,this.router.navigate(["/mdm-home/subject-chapter"],{queryParams:{subjectLang:e.lang,subjectId:e.folLink,subjectName:e.name}})}loadContinueReadingVideo(e){console.log(e),this.services.getVideoListByChapterId(e.videoId.chapterId._id,localStorage.getItem(u.g.DATACONTENTTYPE)).subscribe(t=>{if(console.log("=======response========getVideoListByChapterId==========>",t),200==t.responseCode){let i=t.result;if(console.log(i),i&&i.length>0){i.sort(function(e,t){return e.videoNumber-t.videoNumber});let t=0;for(let s=0;s<i.length;s++)if(i[s]._id==e.videoId._id){t=s;break}localStorage.setItem("playnext","false"),localStorage.setItem("videoIndex",t+"");let o={chapterId:e.videoId.chapterId._id,chapterName:e.videoId.chapterId.title,description:e.videoId.description,videoId:e.videoId._id,subjectId:e.subjectId._id,subjectName:e.subjectId.name,title:e.videoId.title,vedioUrl:e.videoId.cloudFlareVideoId?e.videoId.cloudFlareVideoId:e.videoId.url,videoType:e.videoId.cloudFlareVideoId?"CLOUDFLARE":"SERVERURL",videoIndex:t,parentModule:"home/tabs/home",parentModuleParam:JSON.stringify({}),interactiveVideoModule:!1};this.router.navigate(["/videosample"],{queryParams:o})}}},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(m.R),p.Y36(a.sK),p.Y36(I.T),p.Y36(S.t),p.Y36(h.F0),p.Y36(v.V),p.Y36(h.gz))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-home"]],decls:24,vars:8,consts:[[1,"b",2,"overflow-x","hidden","overflow-y","auto"],["src","assets/images/2.svg",2,"width","50%","position","absolute","right","0","opacity","0.4"],["layout","row","layout-align","start center",1,"h",2,"height","170px"],["layout","row","layout-align","start center",1,"v",2,"width","400px","padding","0px 30px"],[1,"vh",2,"width","80px","height","80px"],[2,"width","100%","border-radius","50%","background","#fcd9d7",3,"src"],["layout","column","layout-align","center center",1,"v",2,"width","calc(100% - 80px)","padding","0px 25px"],["layout","row","layout-align","start center",1,"h"],[1,"px40","hw",2,"font-family","PoppinsSemiBold"],[1,"px16",2,"font-family","PoppinsThin","text-align","center"],[1,"px16","lp",2,"font-family","PoppinsThin","text-align","center"],[1,"h",2,"height","auto","padding","0px 30px"],["layout","row","layout-align","start center",1,"h",2,"height","70px"],[1,"px18",2,"font-family","PoppinsThin","text-align","center"],[1,"h",2,"height","auto"],["class","vh","style","height: 150px;padding: 15px;width: 200px;",3,"ngStyle","click",4,"ngFor","ngForOf"],["class","h","style","height:200px;padding: 0px 30px;",4,"ngIf"],["layout","row","layout-align","center center",1,"h",2,"height","65px"],[1,"vh",2,"height","150px","padding","15px","width","200px",3,"ngStyle","click"],["layout","column","layout-align","center center",1,"b"],["layout","row","layout-align","center center",1,"h",2,"margin-bottom","15px"],[1,"circular-p"],["layout","row","layout-align","center center",1,"h"],[1,"px16","lw"],[1,"h",2,"height","200px","padding","0px 30px"],[1,"h",2,"height","calc(100% - 70px)","width","100%","overflow","hidden"],["class","v","style","width:400px;padding:0px 20px;",4,"ngFor","ngForOf"],[1,"v",2,"width","400px","padding","0px 20px"],["layout","row","layout-align","start center",1,"b",2,"box-shadow","0 0 15px 5px rgb(232 234 236 / 80%)","height","90%"],["layout","row","layout-align","center center",1,"v","brdRad","p",2,"width","40%"],[2,"height","100%","width","100%",3,"src"],["layout","column","layout-align","center start",1,"v","lp",2,"width","60%"],[1,"px13","lw"],[1,"px16","lw","tm"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p._UZ(1,"img",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p._UZ(5,"img",5),p.qZA(),p.TgZ(6,"div",6),p.TgZ(7,"div",7),p.TgZ(8,"h5",8),p._uU(9),p.qZA(),p.qZA(),p.TgZ(10,"div",7),p.TgZ(11,"h5",9),p._uU(12),p.ALo(13,"translate"),p.qZA(),p.TgZ(14,"h5",10),p._uU(15,"Level 1"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(16,"div",11),p.TgZ(17,"div",12),p.TgZ(18,"h5",13),p._uU(19,"My Subjects"),p.qZA(),p.qZA(),p.TgZ(20,"div",14),p.YNc(21,P,8,5,"div",15),p.qZA(),p.qZA(),p.YNc(22,D,7,4,"div",16),p._UZ(23,"div",17),p.qZA()),2&e&&(p.xp6(5),p.s9C("src",t.profilePic,p.LSH),p.xp6(4),p.hij("Hi ",t.name,""),p.xp6(3),p.AsE("",p.lcZ(13,6,"home.class"),": ",t.ClassGrade,""),p.xp6(9),p.Q6J("ngForOf",t.subjects),p.xp6(1),p.Q6J("ngIf",t.watchedHistory.length>0))},directives:[o.sg,o.O5,o.PC],pipes:[a.X$],styles:[".openDrawer[_ngcontent-%COMP%]{width:350px;background:#fff;box-shadow:0 0 15px 5px #e8eaeccc}.closeDrawer[_ngcontent-%COMP%], .openDrawer[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.closeDrawer[_ngcontent-%COMP%]{width:0;background:#0000}.circular-p[_ngcontent-%COMP%]{background-color:#fff;border-radius:100%;padding:10px;width:40px;text-align:center;height:40px;font-size:12px;font-weight:600}"]}),e})();function E(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",20),p.NdJ("click",function(){const t=p.CHM(e).$implicit;return p.oxw(2).loadContinueReadingVideo(t)}),p.TgZ(1,"div",21),p.TgZ(2,"div",22),p._UZ(3,"img",23),p.qZA(),p.TgZ(4,"div",24),p.TgZ(5,"h5",25),p._uU(6),p.qZA(),p.TgZ(7,"h5",26),p._uU(8),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit;p.xp6(3),p.s9C("src",e.videoId.thumbnail,p.LSH),p.xp6(3),p.Oqu(e.subjectId.name),p.xp6(2),p.Oqu(e.videoId.title)}}function k(e,t){if(1&e&&(p.TgZ(0,"div",15),p.TgZ(1,"div",16),p.TgZ(2,"h5",17),p._uU(3),p.ALo(4,"translate"),p.qZA(),p.qZA(),p.TgZ(5,"div",18),p.YNc(6,E,9,3,"div",19),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(3),p.Oqu(p.lcZ(4,2,"common.continue_reading")),p.xp6(3),p.Q6J("ngForOf",e.watchedHistory)}}const N=function(e){return{"font-family":e}};function O(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",27),p.TgZ(1,"div",16),p.TgZ(2,"div",28),p.TgZ(3,"h5",29),p._uU(4),p.qZA(),p.qZA(),p.qZA(),p.TgZ(5,"div",30),p.TgZ(6,"div",31),p.TgZ(7,"h5",32),p.NdJ("click",function(){return p.CHM(e),p.oxw().playVideo()}),p._uU(8,"Play Video"),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit,i=p.oxw();p.xp6(3),p.Q6J("ngStyle",p.VKq(2,N,"Mar"==i.subjectLang?"KrutiDevBold":"PoppinsSemiBold")),p.xp6(1),p.Oqu(null==e?null:e.name)}}let L=(()=>{class e{constructor(e,t,i,o,s,a,r){this.shareableService=e,this.translate=t,this.languageservice=i,this.services=o,this.router=s,this.localStorageAPI=a,this.activeRoute=r,this.gradeName="-",this.videoCount=0,this.chapters=[],this.watchedHistory=[],this.subjectLang="Eng",this.service=o,this.ngxRouter=s}ngOnInit(){this.activeRoute.queryParams.subscribe(e=>{console.log(e),this.subjectId=e.subjectId,this.subjectName=e.subjectName,this.subjectLang=e.subjectLang,console.log("=========subjectId=====>",this.subjectId,this.subjectLang),this.languageservice.retriveLanguage().subscribe(e=>{this.gradeName="mr"==e?y(Number(this.localStorageAPI.retrieve(u.g.GRADEORDER))):Z(Number(this.localStorageAPI.retrieve(u.g.GRADEORDER)))}),this.GetChapters()})}viewPdf(){this.router.navigate(["/mdm-home/pdf-viewer"],{queryParams:{subjectId:this.subjectId}})}playVideo(){let e="1.mp4";"English"==this.subjectId&&(e="2.mp4"),"Maths1"==this.subjectId&&(e="3.mp4"),this.router.navigate(["/mdm-home/video-viewer"],{queryParams:{videoId:e}})}GetChapters(){this.services.getChapterList(this.subjectId,localStorage.getItem(u.g.DATACONTENTTYPE)).subscribe(e=>{console.log("=======response========&&&&&&&&&&&&&==========>",e),e&&e.length>0&&(this.chapters=e)})}getWatchedHistory(){this.watchedHistory=[],this.services.getWatchedHistory(this.subjectId,localStorage.getItem(u.g.DATACONTENTTYPE)).subscribe(e=>{console.log("=======response========getWatchedHistory==========>",e),(e.status="ACTIVE")&&(e.result.forEach(e=>{e.percentage=Math.floor(e.duration/e.totalDuration*100)}),this.watchedHistory=e.result)})}GetVideo(e,t,i){console.log(e),localStorage.setItem("playnext","false"),localStorage.setItem("videoIndex",i+"");let o=!1,s="";e.testIds&&e.testIds.length&&e.testIds.length>0&&(s=e.testIds[0],o=!0),this.router.navigate(["/mdm-home/video-details"],{queryParams:{parentModule:"/mdm-home/subject-chapter",parentModuleParam:JSON.stringify({subjectId:e.subjectId,subjectName:this.subjectName}),videoUrl:e.cloudFlareVideoId?e.cloudFlareVideoId:e.url,videoType:e.cloudFlareVideoId?"CLOUDFLARE":"SERVERURL",interactiveVideoModuleTestId:s,interactiveVideoModule:o,title:e.title,videoIndex:i,videoCount:this.videoCount,chapterLength:this.chapters.length,videoId:e._id,description:e.description||"",chapterId:e.chapterId,subjectId:e.subjectId,chapterName:t,subjectName:this.subjectName}})}gotoQuestionList(e){this.services.getTestList(e,localStorage.getItem(u.g.DATACONTENTTYPE)).subscribe(t=>{if(200==t.responseCode){let i=t.result;if(console.log(i),i&&i.length>0){const t={queryParams:{subjectId:this.subjectId,subjectName:this.subjectName,chapterId:e,testId:i[0]._id,parentModule:"subject",parentModuleParam:JSON.stringify({subjectId:this.subjectId,subjectName:this.subjectName})}};localStorage.setItem("fromVideo","false"),this.router.navigate(["/question"],t)}}},e=>{})}loadContinueReadingVideo(e){this.services.getVideoListByChapterId(e.videoId.chapterId._id,localStorage.getItem(u.g.DATACONTENTTYPE)).subscribe(t=>{if(console.log("=======response========getVideoListByChapterId==========>",t),200==t.responseCode){let i=t.result;if(console.log(i),i&&i.length>0){i.sort(function(e,t){return e.videoNumber-t.videoNumber});let t=0;for(let s=0;s<i.length;s++)if(i[s]._id==e.videoId._id){t=s;break}localStorage.setItem("playnext","false"),localStorage.setItem("videoIndex",t+"");let o={chapterId:e.videoId.chapterId._id,chapterName:e.videoId.chapterId.title,description:e.videoId.description,videoId:e.videoId._id,subjectId:this.subjectId,subjectName:this.subjectName,title:e.videoId.title,videoCount:this.videoCount,chapterLength:this.chapters.length,videoUrl:e.videoId.cloudFlareVideoId?e.videoId.cloudFlareVideoId:e.videoId.url,videoType:e.videoId.cloudFlareVideoId?"CLOUDFLARE":"SERVERURL",videoIndex:t,parentModule:"subject",interactiveVideoModule:!1,parentModuleParam:JSON.stringify({subjectId:this.subjectId,subjectName:this.subjectName})};this.router.navigate(["/mdm-home/video-details"],{queryParams:o})}}},e=>{})}backSelectSubject(){this.router.navigate(["/mdm-home/home"])}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(m.R),p.Y36(a.sK),p.Y36(I.T),p.Y36(S.t),p.Y36(h.F0),p.Y36(v.V),p.Y36(h.gz))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-subject-chapter"]],decls:22,vars:11,consts:[[1,"b",2,"overflow-x","hidden","overflow-y","auto"],["src","assets/images/group1.svg",2,"width","100%","height","315px","position","absolute","left","30%","opacity","0.4"],["layout","row","layout-align","start center",1,"h",2,"height","170px"],["layout","row","layout-align","start center",1,"v",2,"padding","0px 30px"],[1,"vh",2,"width","80px","height","80px","border-radius","50%","background","#cedcf5",3,"click"],["layout","column","layout-align","center center",1,"v",2,"width","calc(100% - 80px)","padding","0px 25px"],["layout","row","layout-align","start center",1,"h"],[1,"px40","hw",2,"font-family","PoppinsSemiBold"],[1,"px16",2,"font-family","PoppinsThin","text-align","center"],[1,"px16","lp",2,"font-family","PoppinsThin","text-align","center"],[2,"background-color","#03a9f4","padding","4px 10px","border","0","color","white","margin-left","10px","font-weight","600",3,"click"],[1,"h",2,"height","calc( 100% - 170px)","overflow","auto"],["class","h","style","height:200px;padding: 0px 30px;",4,"ngIf"],[1,"h"],["class","h","style","height:100px;padding: 0px 30px;margin-bottom:30px;",4,"ngFor","ngForOf"],[1,"h",2,"height","200px","padding","0px 30px"],["layout","row","layout-align","start center",1,"h",2,"height","70px"],[1,"px18",2,"font-family","PoppinsThin","text-align","center"],["layout","row","layout-align","start center",1,"h",2,"height","calc(100% - 70px)"],["class","v","style","width:33.33%;padding:0px 20px;",3,"click",4,"ngFor","ngForOf"],[1,"v",2,"width","33.33%","padding","0px 20px",3,"click"],["layout","row","layout-align","start center",1,"b",2,"box-shadow","0 0 15px 5px rgb(232 234 236 / 80%)","height","90%"],["layout","row","layout-align","center center",1,"v","brdRad","p",2,"width","40%"],[2,"height","60%",3,"src"],["layout","column","layout-align","center start",1,"v","lp",2,"width","60%"],[1,"px13","lw"],[1,"px16","lw","tm"],[1,"h",2,"height","100px","padding","0px 30px","margin-bottom","30px"],["layout","row","layout-align","start center",1,"v",2,"width","calc(100% - 200px)"],[1,"px18","lw",2,"text-align","center",3,"ngStyle"],["layout","row","layout-align","start center",1,"v",2,"height","calc(100% - 70px)"],["layout","row","layout-align","center center",1,"vh","brdRad","pt",2,"width","285px","height","35px","background","#3378f09c"],[1,"px18","clr4","hw",2,"font-family","PoppinsSemiBold",3,"click"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p._UZ(1,"img",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.NdJ("click",function(){return t.backSelectSubject()}),p.qZA(),p.TgZ(5,"div",5),p.TgZ(6,"div",6),p.TgZ(7,"h5",7),p._uU(8),p.qZA(),p.qZA(),p.TgZ(9,"div",6),p.TgZ(10,"h5",8),p._uU(11),p.ALo(12,"translate"),p.qZA(),p.TgZ(13,"h5",9),p._uU(14),p.ALo(15,"translate"),p.qZA(),p.TgZ(16,"button",10),p.NdJ("click",function(){return t.viewPdf()}),p._uU(17,"View Pdf"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(18,"div",11),p.YNc(19,k,7,4,"div",12),p.TgZ(20,"div",13),p.YNc(21,O,9,4,"div",14),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(8),p.Oqu(t.subjectName),p.xp6(3),p.AsE("",p.lcZ(12,7,"home.class"),": ",t.gradeName,""),p.xp6(3),p.AsE("",t.chapters.length," ",p.lcZ(15,9,1==t.chapters.length?"home.chapter":"home.chapters"),""),p.xp6(5),p.Q6J("ngIf",t.watchedHistory.length>0),p.xp6(2),p.Q6J("ngForOf",t.chapters))},directives:[o.O5,o.sg,o.PC],pipes:[a.X$],styles:[".video-thubnails-right-tick[_ngcontent-%COMP%]{position:absolute!important;z-index:1;width:25px!important;height:25px!important;top:10px;right:10px}"]}),e})();function V(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"video",34,35),p.NdJ("play",function(t){return p.CHM(e),p.oxw().onPlayVideo(t)})("pause",function(){return p.CHM(e),p.oxw().onPause()})("ended",function(t){return p.CHM(e),p.oxw().onVideoEnded(t)}),p._UZ(2,"source",36),p._uU(3," not supported "),p.qZA()}if(2&e){const e=p.oxw();p.Q6J("hidden",!e.videoLoaded),p.xp6(2),p.Q6J("src",e.videoUrl,p.LSH)}}function R(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"cloudflare-stream",37),p.NdJ("loadeddata",function(t){return p.CHM(e),p.oxw().onLoadedData(t)})("loadstart",function(t){return p.CHM(e),p.oxw().onLoadStart(t)})("durationchange",function(t){return p.CHM(e),p.oxw().onDurationChange(t)})("ended",function(t){return p.CHM(e),p.oxw().onVideoEnded(t)})("play",function(t){return p.CHM(e),p.oxw().onPlayVideo(t)})("pause",function(){return p.CHM(e),p.oxw().onPause()}),p.qZA()}if(2&e){const e=p.oxw();p.s9C("src",e.videoUrl),p.Q6J("hidden",!e.videoLoaded)("currentTime",e.currentTime)("controls",!0)}}function U(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",38),p.NdJ("click",function(){return p.CHM(e),p.oxw().playAudioLesson()}),p.TgZ(1,"h5",15),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.qZA()}2&e&&(p.xp6(2),p.Oqu(p.lcZ(3,1,"videosample.audiolesson")))}function _(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",38),p.NdJ("click",function(){return p.CHM(e),p.oxw().TakeATest()}),p.TgZ(1,"h5",15),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.qZA()}2&e&&(p.xp6(2),p.Oqu(p.lcZ(3,1,"videosample.takeatest")))}function M(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",38),p.NdJ("click",function(){return p.CHM(e),p.oxw().DownloadSwadhya()}),p.TgZ(1,"h5",15),p._uU(2),p.ALo(3,"translate"),p._UZ(4,"i",39),p.qZA(),p.qZA()}2&e&&(p.xp6(2),p.hij("",p.lcZ(3,1,"videosample.downloadswadhya")," "))}function F(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",40),p.NdJ("click",function(){return p.CHM(e),p.oxw().DownloadEBook()}),p.TgZ(1,"h5",15),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.qZA()}2&e&&(p.xp6(2),p.Oqu(p.lcZ(3,1,"videosample.downloadebook")))}function j(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",41),p.NdJ("click",function(){const t=p.CHM(e).index;return p.oxw().loadVideoByIndex(t)}),p.TgZ(1,"div",42),p.TgZ(2,"div",43),p._UZ(3,"img",44),p.qZA(),p.TgZ(4,"div",45),p.TgZ(5,"h5",46),p._uU(6),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit;p.xp6(3),p.s9C("src",e.thumbnail,p.LSH),p.xp6(3),p.Oqu(e.title)}}let B=(()=>{class e{constructor(e,t,i,o,s,a,r){this.shareableService=e,this.translate=t,this.languageservice=i,this.services=o,this.router=s,this.localStorageAPI=a,this.activeRoute=r,this.gradeName="-",this.videoCount=0,this.chapterLength=0,this.watchedHistory=[],this.videoType="CLOUDFLARE",this.videoLoaded=!1,this.currentTime=0,this.currentAudio=null,this.videoList=[],this.interactiveVideoModule=!1,this.contentType=localStorage.getItem(u.g.DATACONTENTTYPE)||"REVISION",this.videoMappingList=[],this.hideAudioLesson=!1,this.isVideoLiked=!1,this.isBookmarkVideoLiked=!1,this.service=o,this.ngxRouter=s,this.translate.get("alert.bookmarksuccess").subscribe(e=>{this.bookmarksuccessmessage=e}),this.translate.get("alert.disbookmarksuccess").subscribe(e=>{this.disbookmarksuccessmessage=e})}ngOnInit(){this.activeRoute.queryParams.subscribe(e=>{console.log(e),this.PassedParams=e,this.videoUrl=e.videoUrl,this.videoType=e.videoType,this.videoTitle=e.title,this.chapterId=e.chapterId,this.videoCount=e.videoCount,this.chapterLength=e.chapterLength,this.chapterName=e.chapterName,this.subjectName=e.subjectName,this.subjectId=e.subjectId,this.description=e.description,this.parentModule=e.parentModule,this.parentModuleParam=JSON.parse(e.parentModuleParam),this.interactiveVideoModule="false"!=e.interactiveVideoModule,this.interactiveVideoModuleTestId=e.interactiveVideoModuleTestId;const t=localStorage.getItem("videoIndex");this.videoIndex=Number(t),this.videoId=e.videoId,this.languageservice.retriveLanguage().subscribe(e=>{this.gradeName="mr"==e?y(Number(this.localStorageAPI.retrieve(u.g.GRADEORDER))):Z(Number(this.localStorageAPI.retrieve(u.g.GRADEORDER)))}),this.getVideoListByChapterId()})}getVideoListByChapterId(){this.services.getVideoListByChapterId(this.chapterId,localStorage.getItem(u.g.DATACONTENTTYPE)).subscribe(e=>{if(console.log("=======response========getVideoListByChapterId==========>",e),200==e.responseCode){let t=e.result;if(console.log(t),t&&t.length>0){t.sort(function(e,t){return e.videoNumber-t.videoNumber}),this.videoList=t,this.isNextVideoAvailable=!0,this.videoIndex==this.videoList.length-1&&(this.isNextVideoAvailable=!1),0==this.videoList.length&&(this.isNextVideoAvailable=!1),console.log("=========vedioUrl=====>",this.videoUrl,this.videoTitle,this.videoType),this.GetAudios(),this.GetTestList(),this.GetAllPdfs(),this.getEBook();const e=localStorage.getItem("playnext");console.log("playnext",e),console.log("this.isNextVideoAvailable",this.isNextVideoAvailable),"true"===e?this.isNextVideoAvailable?(this.PlayNextVideo(),localStorage.setItem("playnext","false")):this.fechChapters():(this.getVideoRelatedData(),setTimeout(()=>{},1e3))}}},e=>{})}backClick(){this.router.navigate(["/"+this.parentModule],{queryParams:this.parentModuleParam})}GetAudios(){this.services.getAudioList(this.subjectId,localStorage.getItem(u.g.DATACONTENTTYPE)).subscribe(e=>{if(e.status="ACTIVE")for(var t in e.result)e.result[t]._id==this.chapterId&&e.result[t].audioIds&&e.result[t].audioIds.length>0&&(this.currentAudio=e.result[t])})}GetTestList(){this.services.getTestList(this.chapterId,localStorage.getItem(u.g.DATACONTENTTYPE)).subscribe(e=>{if(200==e.responseCode){let t=e.result;t&&t.length>0&&(this.currentTest=t[0],console.log("this.currentTest",this.currentTest))}},e=>{})}getEBook(){var e=this;this.services.getEBook(this.subjectId,localStorage.getItem(u.g.DATACONTENTTYPE)).subscribe(t=>{console.log("=======response getEBook==================>",t.result),200==t.responseCode&&t.result.forEach(function(){var t=(0,b.Z)(function*(t,i){t.bookIds&&t.bookIds.length>0&&t._id==e.chapterId&&(e.currentEBook=t)});return function(e,i){return t.apply(this,arguments)}}())},e=>{})}viewPdf(e){window.open(encodeURI(e),"_system","location=yes")}GetAllPdfs(){var e=this;this.services.getChapterList(this.subjectId,localStorage.getItem(u.g.DATACONTENTTYPE)).subscribe(t=>{console.log("=======GetAllPdfs==================>",t.result),(t.status="ACTIVE")&&t.result.forEach(function(){var t=(0,b.Z)(function*(t,i){t.notesIds&&t.notesIds.length>0&&t._id==e.chapterId&&(e.currentPDf=t)});return function(e,i){return t.apply(this,arguments)}}())})}PlayNextVideo(){this.videoIndex=this.videoIndex+1,this.loadVideo()}loadVideoByIndex(e){this.videoIndex==e||(this.videoIndex=e,this.loadVideo())}loadVideo(){localStorage.setItem("videoIndex",this.videoIndex+""),this.videoId=this.videoList[this.videoIndex]._id,this.videoUrl=this.videoList[this.videoIndex].cloudFlareVideoId?this.videoList[this.videoIndex].cloudFlareVideoId:this.videoList[this.videoIndex].url,this.videoType=this.videoList[this.videoIndex].cloudFlareVideoId?"CLOUDFLARE":"SERVERURL",this.videoTitle=this.videoList[this.videoIndex].title,this.description=this.videoList[this.videoIndex].description,this.interactiveVideoModule=!1,this.interactiveVideoModuleTestId="",this.videoList[this.videoIndex].testIds&&this.videoList[this.videoIndex].testIds.length&&this.videoList[this.videoIndex].testIds.length>0&&(this.interactiveVideoModuleTestId=this.videoList[this.videoIndex].testIds[0],this.interactiveVideoModule=!0),this.videoIndex==this.videoList.length-1?(console.log("Last Video"),this.isNextVideoAvailable=!1):this.isNextVideoAvailable=!0,this.getVideoRelatedData()}getVideoRelatedData(){this.getVideoHistory(this.videoId),this.getLikeVideoInfo(this.videoId),this.getbookmarkedhistoryInfo(this.videoId),this.saveVideoStudentProgressReport(),this.getContentMappingByVideoId(this.videoId)}getVideoHistory(e){this.services.getVideoHistory(e).subscribe(e=>{console.log("response getVideoHistory ",e),200===e.responseCode&&(document.getElementById("videoPlayer"),e.result.duration==e.result.totalDuration||"CLOUDFLARE"==this.videoType&&(this.currentTime=e.result.duration))},e=>{})}getbookmarkedhistoryInfo(e){this.services.getbookmarkedhistoryInfo(e).subscribe(e=>{console.log("response getbookmarkedhistoryInfo ",e),200===e.responseCode?(this.isBookmarkVideoLiked=!0,this.bookmark_id=e.result._id):this.isBookmarkVideoLiked=!1},e=>{})}bookmarkvideo(){var e=this;return(0,b.Z)(function*(){if(e.isBookmarkVideoLiked)e.service.deleteBookmarkedhistory({bookmark_id:e.bookmark_id}).subscribe(t=>{console.log("==deleteBookmarkedhistory=========>",t),e.bookmark_id="",e.isBookmarkVideoLiked=!1,e.presentToast(e.disbookmarksuccessmessage)});else{const t={subjectId:e.subjectId,videoId:e.videoId,contentType:localStorage.getItem(u.g.DATACONTENTTYPE)};yield e.services.saveBookmarkedhistory(t).subscribe(t=>{console.log("response Post ",t),(t.status="ACTIVE")&&(e.isBookmarkVideoLiked=!0,e.bookmark_id=t.result._id,e.presentToast(e.bookmarksuccessmessage))},e=>{})}})()}presentToast(e){alert(e)}postVideoHistory(e,t){var i=this;return(0,b.Z)(function*(){if(null==t)return;const o={duration:e,totalDuration:t,subjectId:i.subjectId,videoId:i.videoId,contentType:localStorage.getItem(u.g.DATACONTENTTYPE)};yield i.services.postVideoHistory(o).subscribe(e=>{console.log("response Post ",e),e.status="ACTIVE"},e=>{})})()}getLikeVideoInfo(e){this.services.getLikedVideoInfo(e).subscribe(e=>{console.log("response getLikeVideoInfo ",e),200===e.responseCode?(this.isVideoLiked=1==e.result.likeVideo,this.videolikeid=e.result._id,this.videorating=e.result.rating?e.result.rating:0,this.lastvideorating=e.result.rating?e.result.rating:0):this.isVideoLiked=!1},e=>{})}fechChapters(){this.services.getChapterList(this.subjectId,localStorage.getItem(u.g.DATACONTENTTYPE)).subscribe(e=>{if(console.log("===fechChapters====getChapterList=============>",e),(e.status="ACTIVE")&&e.result){let t=[];if(e.result.forEach(e=>{e.videoId&&e.videoId.length>0&&(e.videoId.sort(function(e,t){return e.videoNumber-t.videoNumber}),t.push(e))}),console.log(t),t.length>0)for(let e=0;e<t.length;e++)if(t[e]._id==this.chapterId){let i=t[e+1]?t[e+1]:null;console.log(i),i?this.showNextChapterLoadAlert(i):console.log("No chapter left");break}}})}showNextChapterLoadAlert(e){return(0,b.Z)(function*(){})()}onDurationChange(e){console.log(e)}onVideoEnded(e){this.VideoQuizTakeATest()}onLoadedData(e){console.log(e)}onLoadStart(e){console.log(e),this.videoLoaded=!0}onPlayVideo(e){}onPause(){console.log("paused")}VideoQuizTakeATest(){if(this.interactiveVideoModule){if(this.interactiveVideoModuleTestId&&""!=this.interactiveVideoModuleTestId){const e={queryParams:{subjectId:this.subjectId,subjectName:this.subjectName,chapterId:this.chapterId,testId:this.interactiveVideoModuleTestId,videoIndex:this.videoIndex,parentModule:"/mdm-home/video-details",parentModuleParam:JSON.stringify(this.PassedParams)}};localStorage.setItem("fromVideo","true"),this.router.navigate(["/mdm-home/question"],e)}}else this.videoIndex==this.videoList.length-1?(console.log("Last Video"),this.fechChapters()):this.PlayNextVideo()}DownloadSwadhya(){this.currentPDf&&this.viewPdf(this.currentPDf.notesIds[0].file)}DownloadEBook(){this.currentEBook&&this.viewPdf(this.currentEBook.bookIds[0].file)}playAudioLesson(){}TakeATest(){if(this.onPause(),this.currentTest){const e={queryParams:{subjectId:this.subjectId,subjectName:this.subjectName,chapterId:this.chapterId,testId:this.currentTest._id,parentModule:"videosample",parentModuleParam:JSON.stringify(this.PassedParams)}};localStorage.setItem("fromVideo","false"),this.router.navigate(["/question"],e)}}getContentMappingByVideoId(e){this.videoMappingList=[],this.services.getContentMappingByVideoId(e).subscribe(t=>{if(console.log("=======response========getContentMappingByVideoId==========>",t),200==t.responseCode&&t.result&&t.result.length>0){let i=t.result[0].mappings;for(let t=0;t<i.length;t++)i[t].videoId._id!=e&&(i[t].videoId.mediumId=i[t].mediumId,this.videoMappingList.push(i[t].videoId))}},e=>{})}playOtherMediumVideo(e){console.log(e),"CLOUDFLARE"==this.videoType||setTimeout(()=>{},1e3),this.getContentMappingByVideoId(e._id)}saveVideoStudentProgressReport(){const e={subjectId:this.subjectId,chapterId:this.chapterId,gradeId:localStorage.getItem(u.g.GRADEID),mediumId:localStorage.getItem(u.g.MEDIUMID),contentType:localStorage.getItem(u.g.DATACONTENTTYPE),videoId:this.videoId};this.services.saveStudentProgress(e).subscribe(e=>{console.log("response saveVideoStudentProgressReport ",e),e.status="ACTIVE"},e=>{})}saveAudioStudentProgressReport(){const e={subjectId:this.subjectId,chapterId:this.chapterId,gradeId:localStorage.getItem(u.g.GRADEID),mediumId:localStorage.getItem(u.g.MEDIUMID),contentType:localStorage.getItem(u.g.DATACONTENTTYPE),audioId:this.currentAudio.audioIds[0]._id};this.services.saveStudentProgress(e).subscribe(e=>{console.log("response saveAudioStudentProgressReport ",e),e.status="ACTIVE"},e=>{})}saveEBookStudentProgressReport(){const e={subjectId:this.subjectId,chapterId:this.chapterId,gradeId:localStorage.getItem(u.g.GRADEID),mediumId:localStorage.getItem(u.g.MEDIUMID),contentType:localStorage.getItem(u.g.DATACONTENTTYPE),ebookId:this.currentEBook.bookIds[0]._id};this.services.saveStudentProgress(e).subscribe(e=>{console.log("response saveEBookStudentProgressReport ",e),e.status="ACTIVE"},e=>{})}saveNotesStudentProgressReport(){const e={subjectId:this.subjectId,chapterId:this.chapterId,gradeId:localStorage.getItem(u.g.GRADEID),mediumId:localStorage.getItem(u.g.MEDIUMID),contentType:localStorage.getItem(u.g.DATACONTENTTYPE),nodeId:this.currentPDf.notesIds[0]._id};this.services.saveStudentProgress(e).subscribe(e=>{console.log("response saveNotesStudentProgressReport ",e),e.status="ACTIVE"},e=>{})}saveStudentActivity(e){const t=Object.assign(Object.assign({},e),{subjectId:this.subjectId,chapterId:this.chapterId,gradeId:localStorage.getItem(u.g.GRADEID),mediumId:localStorage.getItem(u.g.MEDIUMID),contentType:localStorage.getItem(u.g.DATACONTENTTYPE)});this.services.saveStudentHistory(t).subscribe(e=>{console.log("response saveStudentActivity ",e),e.status="ACTIVE"},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(m.R),p.Y36(a.sK),p.Y36(I.T),p.Y36(S.t),p.Y36(h.F0),p.Y36(v.V),p.Y36(h.gz))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-video-details"]],decls:56,vars:32,consts:[[1,"b",2,"overflow-x","hidden","overflow-y","auto"],["src","assets/images/group1.svg",2,"width","100%","height","315px","position","absolute","left","30%","opacity","0.4"],["layout","row","layout-align","start center",1,"h",2,"height","170px"],["layout","row","layout-align","start center",1,"v",2,"padding","0px 30px"],[1,"vh",2,"width","80px","height","80px","border-radius","50%","background","#cedcf5"],["layout","column","layout-align","center center",1,"v",2,"width","calc(100% - 80px)","padding","0px 25px"],["layout","row","layout-align","start center",1,"h"],[1,"px40","hw",2,"font-family","PoppinsSemiBold"],[1,"px16",2,"font-family","PoppinsThin","text-align","center"],[1,"px16","lp",2,"font-family","PoppinsThin","text-align","center"],["layout","row","layout-align","start top",1,"h"],["layout","column","layout-align","start",1,"v",2,"width","calc(100% - 350px)","box-shadow","0 0 15px rgb(232 234 236 / 80%)","clip-path","inset(0px -15px 0px 0px)","padding","0px 30px","margin-top","80px"],["layout","row","layout-align","start center",1,"h",2,"height","60px"],["src","assets/images/Group 42532.svg",2,"transform","rotate(180deg)",3,"click"],["layout","row","layout-align","center center",1,"vh","pt",2,"padding","0 10px","height","35px","background","#2fa92fc9","border-radius","10px","margin-left","15px"],[1,"px18","clr4","hw",2,"font-family","PoppinsSemiBold"],["src","assets/images/bookmark.svg","layout","row","layout-align","end center",2,"margin-left","15px",3,"click"],[1,"h","tm",2,"width","90%","padding","0px 30px"],[1,"b",2,"width","100%"],["controls","","id","videoPlayer","poster","assets/images/clientlogo512.png","oncontextmenu","return false;","width","100%","height","100%","controlsList","nodownload","poster","","disablePictureInPicture","",3,"hidden","play","pause","ended",4,"ngIf"],["src","assets/images/apploader.gif",2,"padding","20px","width","25%",3,"hidden"],["style","width:100%;height:300px",3,"hidden","currentTime","controls","src","loadeddata","loadstart","durationchange","ended","play","pause",4,"ngIf"],[1,"h"],[1,"px25","lw","video_title",2,"font-family","PoppinsSemiBold","text-align","center","padding","25px 0"],[1,"video_intro"],[1,"video_descr",2,"margin","10px 0"],["class","vh  pt","layout","column","layout-align","start center","style","margin: 0 20px;width:185px;padding:8px;border-radius: 8px;background:#3378f09c",3,"click",4,"ngIf"],["class","vh  pt","layout","column","layout-align","start center","style","margin: 0 20px;padding:8px;border-radius: 8px;background:#3378f09c",3,"click",4,"ngIf"],[1,"vh","pt","px18","clr4","hw",2,"margin","10px 20px","font-family","PoppinsSemiBold","width","185px","padding","8px","border","0","background","#3378f09c","color","white","border-radius","8px",3,"disabled","click"],[1,"v","lrp",2,"width","350px","margin-top","80px","padding","0px 50px"],["layout","row","layout-align","top center",1,"h",2,"height","60px"],[1,"px18","lw",2,"font-family","PoppinsSemiBold","text-align","center"],[2,"height","calc(100% - 60px)"],["class","h","style","height:160px;margin-bottom:10px;width:80%;border-radius: 10px;",3,"click",4,"ngFor","ngForOf"],["controls","","id","videoPlayer","poster","assets/images/clientlogo512.png","oncontextmenu","return false;","width","100%","height","100%","controlsList","nodownload","poster","","disablePictureInPicture","",3,"hidden","play","pause","ended"],["videoPlayer",""],["id","mp4_src","type","video/mp4",3,"src"],[2,"width","100%","height","300px",3,"hidden","currentTime","controls","src","loadeddata","loadstart","durationchange","ended","play","pause"],["layout","column","layout-align","start center",1,"vh","pt",2,"margin","0 20px","width","185px","padding","8px","border-radius","8px","background","#3378f09c",3,"click"],[1,"fas","fa-home"],["layout","column","layout-align","start center",1,"vh","pt",2,"margin","0 20px","padding","8px","border-radius","8px","background","#3378f09c",3,"click"],[1,"h",2,"height","160px","margin-bottom","10px","width","80%","border-radius","10px",3,"click"],[1,"b",2,"box-shadow","0 0 15px 5px rgb(232 234 236 / 80%)","height","100%"],["layout","row","layout-align","center center",1,"h","brdRad",2,"height","80%","width","100%","padding","10px"],[2,"height","100%","width","100%",3,"src"],["layout","row","layout-align","start center",1,"h",2,"height","20%","padding","0px 10px"],[1,"px13","lw"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p._UZ(1,"img",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p._UZ(4,"div",4),p.TgZ(5,"div",5),p.TgZ(6,"div",6),p.TgZ(7,"h5",7),p._uU(8),p.qZA(),p.qZA(),p.TgZ(9,"div",6),p.TgZ(10,"h5",8),p._uU(11),p.ALo(12,"translate"),p.qZA(),p.TgZ(13,"h5",9),p._uU(14),p.ALo(15,"translate"),p.qZA(),p.TgZ(16,"h5",9),p._uU(17),p.ALo(18,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(19,"div",10),p.TgZ(20,"div",11),p.TgZ(21,"div",12),p.TgZ(22,"img",13),p.NdJ("click",function(){return t.backClick()}),p.qZA(),p.TgZ(23,"div",14),p.TgZ(24,"h5",15),p._uU(25),p.qZA(),p.qZA(),p.TgZ(26,"img",16),p.NdJ("click",function(){return t.bookmarkvideo()}),p.qZA(),p.qZA(),p.TgZ(27,"div",17),p.TgZ(28,"div",18),p.YNc(29,V,4,2,"video",19),p._UZ(30,"img",20),p.YNc(31,R,1,4,"cloudflare-stream",21),p.qZA(),p.TgZ(32,"div",22),p.TgZ(33,"h5",23),p._uU(34),p.qZA(),p.qZA(),p.TgZ(35,"div",22),p.TgZ(36,"h4",24),p._uU(37),p.ALo(38,"translate"),p.qZA(),p.qZA(),p.TgZ(39,"div",22),p.TgZ(40,"p",25),p._uU(41),p.qZA(),p.qZA(),p.TgZ(42,"div",6),p.YNc(43,U,4,3,"div",26),p.YNc(44,_,4,3,"div",26),p.YNc(45,M,5,3,"div",26),p.YNc(46,F,4,3,"div",27),p.qZA(),p.TgZ(47,"button",28),p.NdJ("click",function(){return t.PlayNextVideo()}),p._uU(48),p.ALo(49,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(50,"div",29),p.TgZ(51,"div",30),p.TgZ(52,"h5",31),p._uU(53),p.qZA(),p.qZA(),p.TgZ(54,"div",32),p.YNc(55,j,7,2,"div",33),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(8),p.Oqu(t.subjectName),p.xp6(3),p.AsE("",p.lcZ(12,22,"home.class"),": ",t.gradeName,""),p.xp6(3),p.AsE("",t.chapterLength," ",p.lcZ(15,24,1==t.chapterLength?"home.chapter":"home.chapters"),""),p.xp6(3),p.AsE("",t.videoCount," ",p.lcZ(18,26,"home.videos"),""),p.xp6(8),p.Oqu(t.chapterName),p.xp6(4),p.Q6J("ngIf","SERVERURL"==t.videoType),p.xp6(1),p.Q6J("hidden",t.videoLoaded),p.xp6(1),p.Q6J("ngIf","CLOUDFLARE"==t.videoType),p.xp6(3),p.Oqu(t.videoTitle),p.xp6(3),p.Oqu(p.lcZ(38,28,"videosample.introduction")),p.xp6(4),p.Oqu(t.description),p.xp6(2),p.Q6J("ngIf",t.currentAudio),p.xp6(1),p.Q6J("ngIf",t.currentTest),p.xp6(1),p.Q6J("ngIf",t.currentPDf),p.xp6(1),p.Q6J("ngIf",t.currentEBook),p.xp6(1),p.Q6J("disabled",!t.isNextVideoAvailable),p.xp6(1),p.Oqu(p.lcZ(49,30,"videosample.nextvideo")),p.xp6(5),p.Oqu(t.chapterName),p.xp6(2),p.Q6J("ngForOf",t.videoList))},directives:[o.O5,o.sg,d.Dy],pipes:[a.X$],styles:[".video_intro[_ngcontent-%COMP%]{color:#212121;font-size:16px;font-weight:600;letter-spacing:.3px}.video_descr[_ngcontent-%COMP%]{color:#686868;font-size:14px;font-weight:400;letter-spacing:.3px}.video_title[_ngcontent-%COMP%]{color:#212121;letter-spacing:.3px}"]}),e})();function Y(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",10),p.NdJ("click",function(){return p.CHM(e),p.oxw().loadData()}),p.TgZ(1,"div",11),p.TgZ(2,"div",12),p._UZ(3,"img",13),p.qZA(),p.TgZ(4,"div",14),p.TgZ(5,"h5",15),p._uU(6),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit;p.xp6(3),p.s9C("src",e.thumbnail,p.LSH),p.xp6(3),p.Oqu(e.name)}}let J=(()=>{class e{constructor(e,t,i,o,s,a,r){this.shareableService=e,this.translate=t,this.languageservice=i,this.services=o,this.router=s,this.localStorageAPI=a,this.activeRoute=r,this.dataArr=[],this.service=o,this.ngxRouter=s}ngOnInit(){this.dataArr=[{thumbnail:"assets/images/yoganddhyan.svg",name:"Teacher Case",path:"assets/videos/casestudy.pdf"}]}loadData(){this.router.navigate(["/mdm-home/pdf-viewer"],{queryParams:{url:"assets/videos/casestudy.pdf"}})}backSelectSubject(){this.router.navigate(["/mdm-home/home"])}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(m.R),p.Y36(a.sK),p.Y36(I.T),p.Y36(S.t),p.Y36(h.F0),p.Y36(v.V),p.Y36(h.gz))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-case-study"]],decls:12,vars:4,consts:[[1,"b",2,"overflow-x","hidden","overflow-y","auto"],["src","assets/images/group1.svg",2,"width","100%","height","315px","position","absolute","left","30%","opacity","0.4"],["layout","row","layout-align","start center",1,"h",2,"height","170px"],["layout","row","layout-align","start center",1,"v",2,"padding","0px 30px"],[1,"vh",2,"width","80px","height","80px","border-radius","50%","background","#cedcf5",3,"click"],["layout","column","layout-align","center center",1,"v",2,"width","calc(100% - 80px)","padding","0px 25px"],["layout","row","layout-align","start center",1,"h"],[1,"px40","hw",2,"font-family","PoppinsSemiBold"],[1,"h",2,"height","calc( 100% - 170px)","overflow","auto"],["class","vh","style","height: 150px;padding: 15px;width: 200px;",3,"click",4,"ngFor","ngForOf"],[1,"vh",2,"height","150px","padding","15px","width","200px",3,"click"],["layout","column","layout-align","center center",1,"b"],["layout","row","layout-align","center center",1,"h",2,"margin-bottom","15px"],[3,"src"],["layout","row","layout-align","center center",1,"h"],[1,"px16","lw"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p._UZ(1,"img",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.NdJ("click",function(){return t.backSelectSubject()}),p.qZA(),p.TgZ(5,"div",5),p.TgZ(6,"div",6),p.TgZ(7,"h5",7),p._uU(8),p.ALo(9,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"div",8),p.YNc(11,Y,7,2,"div",9),p.qZA(),p.qZA()),2&e&&(p.xp6(8),p.Oqu(p.lcZ(9,2,"home.casestudy")),p.xp6(3),p.Q6J("ngForOf",t.dataArr))},directives:[o.sg],pipes:[a.X$],styles:[".video-thubnails-right-tick[_ngcontent-%COMP%]{position:absolute!important;z-index:1;width:25px!important;height:25px!important;top:10px;right:10px}"]}),e})();function H(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",10),p.NdJ("click",function(){const t=p.CHM(e).$implicit;return p.oxw().loadAudio(t)}),p.TgZ(1,"div",11),p.TgZ(2,"div",12),p._UZ(3,"img",13),p.qZA(),p.TgZ(4,"div",14),p.TgZ(5,"h5",15),p._uU(6),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit;p.xp6(3),p.s9C("src",e.thumbnail,p.LSH),p.xp6(3),p.Oqu(e.name)}}let G=(()=>{class e{constructor(e,t,i,o,s,a,r){this.shareableService=e,this.translate=t,this.languageservice=i,this.services=o,this.router=s,this.localStorageAPI=a,this.activeRoute=r,this.dataArr=[],this.service=o,this.ngxRouter=s}ngOnInit(){this.dataArr=[{thumbnail:"assets/images/memorytechnique.svg",name:"My English Course",path:"assets/videos/000.mp3"}]}loadAudio(e){this.router.navigate(["/mdm-home/video-viewer"],{queryParams:{videoId:"000.mp3"}})}backSelectSubject(){this.router.navigate(["/mdm-home/home"])}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(m.R),p.Y36(a.sK),p.Y36(I.T),p.Y36(S.t),p.Y36(h.F0),p.Y36(v.V),p.Y36(h.gz))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-explore"]],decls:12,vars:4,consts:[[1,"b",2,"overflow-x","hidden","overflow-y","auto"],["src","assets/images/group1.svg",2,"width","100%","height","315px","position","absolute","left","30%","opacity","0.4"],["layout","row","layout-align","start center",1,"h",2,"height","170px"],["layout","row","layout-align","start center",1,"v",2,"padding","0px 30px"],[1,"vh",2,"width","80px","height","80px","border-radius","50%","background","#cedcf5",3,"click"],["layout","column","layout-align","center center",1,"v",2,"width","calc(100% - 80px)","padding","0px 25px"],["layout","row","layout-align","start center",1,"h"],[1,"px40","hw",2,"font-family","PoppinsSemiBold"],[1,"h",2,"height","calc( 100% - 170px)","overflow","auto"],["class","vh","style","height: 150px;padding: 15px;width: 200px;",3,"click",4,"ngFor","ngForOf"],[1,"vh",2,"height","150px","padding","15px","width","200px",3,"click"],["layout","column","layout-align","center center",1,"b"],["layout","row","layout-align","center center",1,"h",2,"margin-bottom","15px"],[3,"src"],["layout","row","layout-align","center center",1,"h"],[1,"px16","lw"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p._UZ(1,"img",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.NdJ("click",function(){return t.backSelectSubject()}),p.qZA(),p.TgZ(5,"div",5),p.TgZ(6,"div",6),p.TgZ(7,"h5",7),p._uU(8),p.ALo(9,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"div",8),p.YNc(11,H,7,2,"div",9),p.qZA(),p.qZA()),2&e&&(p.xp6(8),p.Oqu(p.lcZ(9,2,"home.upgrade")),p.xp6(3),p.Q6J("ngForOf",t.dataArr))},directives:[o.sg],pipes:[a.X$],styles:[".video-thubnails-right-tick[_ngcontent-%COMP%]{position:absolute!important;z-index:1;width:25px!important;height:25px!important;top:10px;right:10px}"]}),e})();var Q=i(529),K=i(9624);function z(e,t){if(1&e&&p._UZ(0,"iframe",2),2&e){const e=p.oxw();p.Q6J("src",e.pdfUrl,p.uOi)}}const $=["videoplayer"],X=[{path:"",component:f,children:[{path:"",redirectTo:"home"},{path:"home",component:q},{path:"subject-chapter",component:L},{path:"video-details",component:B},{path:"case-study",component:J},{path:"explore",component:G},{path:"pdf-viewer",component:(()=>{class e{constructor(e,t,i,o,s,a,r,l){this.sanitizer=e,this.shareableService=t,this.translate=i,this.languageservice=o,this.services=s,this.router=a,this.localStorageAPI=r,this.activeRoute=l,this.service=s,this.ngxRouter=a}ngOnInit(){this.activeRoute.queryParams.subscribe(e=>{console.log(e);let t=`${Q.N.api}getPDF.php?mobile=${localStorage.getItem(u.g.MOBILE)}&bd=${localStorage.getItem(u.g.BOARD)}&medium=${localStorage.getItem(u.g.MEDIUMNAME)}&standard=${localStorage.getItem(u.g.GRADEID)}&subject=${e.subjectId}`;e.url&&(t=e.url),this.pdfUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t)})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(K.H7),p.Y36(m.R),p.Y36(a.sK),p.Y36(I.T),p.Y36(S.t),p.Y36(h.F0),p.Y36(v.V),p.Y36(h.gz))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-pdf-viewer"]],decls:2,vars:1,consts:[[1,"b",2,"overflow-x","hidden","overflow-y","auto"],["class","ion-no-padding","width","100%","height","100%","frameborder","0","allow","autoplay;","allow","autoplay;","loading","","allowfullscreen","",3,"src",4,"ngIf"],["width","100%","height","100%","frameborder","0","allow","autoplay;","allow","autoplay;","loading","","allowfullscreen","",1,"ion-no-padding",3,"src"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.YNc(1,z,1,1,"iframe",1),p.qZA()),2&e&&(p.xp6(1),p.Q6J("ngIf",t.pdfUrl))},directives:[o.O5],styles:[".video-thubnails-right-tick[_ngcontent-%COMP%]{position:absolute!important;z-index:1;width:25px!important;height:25px!important;top:10px;right:10px}"]}),e})()},{path:"video-viewer",component:(()=>{class e{constructor(e,t,i,o,s,a,r,l){this.sanitizer=e,this.shareableService=t,this.translate=i,this.languageservice=o,this.services=s,this.router=a,this.localStorageAPI=r,this.activeRoute=l,this.service=s,this.ngxRouter=a}toggleVideo(e){this.videoplayer.nativeElement.play()}ngOnInit(){this.activeRoute.queryParams.subscribe(e=>{console.log(e),this.videoUrl="http://edutab.in/"+e.videoId})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(K.H7),p.Y36(m.R),p.Y36(a.sK),p.Y36(I.T),p.Y36(S.t),p.Y36(h.F0),p.Y36(v.V),p.Y36(h.gz))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-video-viewer"]],viewQuery:function(e,t){if(1&e&&p.Gf($,5),2&e){let e;p.iGM(e=p.CRH())&&(t.videoplayer=e.first)}},decls:5,vars:1,consts:[[1,"b",2,"overflow-x","hidden","overflow-y","auto"],["controls","","id","videoplayer","poster","assets/images/clientlogo512.png","oncontextmenu","return false;","width","100%","height","100%","controlsList","nodownload","poster","","disablePictureInPicture",""],["videoPlayer",""],["id","mp4_src","type","video/mp4",3,"src"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"video",1,2),p._UZ(3,"source",3),p._uU(4," not supported "),p.qZA(),p.qZA()),2&e&&(p.xp6(3),p.Q6J("src",t.videoUrl,p.LSH))},styles:[".video-thubnails-right-tick[_ngcontent-%COMP%]{position:absolute!important;z-index:1;width:25px!important;height:25px!important;top:10px;right:10px}"]}),e})()}]}];let W=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[h.Bz.forChild(X)],h.Bz]}),e})();function ee(e){return new r.w(e,"./assets/i18n/",".json")}let te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[o.ez,s.JF,a.aw.forRoot({loader:{provide:a.Zw,useFactory:ee,deps:[s.eN]}}),l.u5,n.A0,l.UX,W,d.bK,c.Q,g.a9]]}),e})()}}]);